---
description: 文字起こしデータや店舗情報からリファレンス風チャットページを自律生成するワークフロー
---

# WORKFLOW: REFERENCE CHAT GENERATION

このワークフローは、生データ（インタビュー文字起こし、店舗情報、写真等）から、高品質な「リファレンス風チャットページ」をAIが自律的に生成するための手順です。

## ステップ 1: プロジェクトメタデータの取得
対象プロジェクト（`chat-ui`）の環境変数や既存の `references/` フォルダを確認し、プロジェクトIDと既存資産を把握します。

## ステップ 2: コンテンツの解析とキャラクター定義
提供されたインタビューテキストや店舗情報を読み込み、以下の要素を抽出・定義します。
- **店主・語り手のキャラクター**: 口調（丁寧、気さく、こだわりが強い等）、物語性。
- **店舗のコアバリュー**: 何を一番伝えたいか（味、歴史、空間、接客等）。
- **ユーザーが知りたい情報**: 営業時間、おすすめメニュー、アクセス等の具体情報。

## ステップ 3: チャットシナリオの構成
以下の標準的な構成に従って、チャットの文言を生成します。
1. **挨拶**: 店舗の雰囲気を感じさせる最初のメッセージ。
2. **ストーリー紹介**: 文字起こしから抽出した「想い」を語る。
3. **Q&A セクション**: ユーザーが聞きそうな質問に対する回答。
4. **アクション**: 来店や予約を促す結び。

## ステップ 4: 画像生成プロンプトの特定
シナリオに合わせて、以下のシーンの画像生成プロンプトを作成します。
- `店主（ポートレート）`: キャラクターに合わせた風貌。
- `店舗・内装（風景）`: 雰囲気が伝わる高品質なショット。
- `キービジュアル（料理・商品）`: シズル感のある表現。

> [!TIP]
> 画像生成には `references/prompts.md` に定義された高品質なベースプロンプトを使用してください。

## ステップ 5: 実装（HTML/CSS/JS の生成）
`references/` フォルダ内の `chat.html` や `chat-data.js` をテンプレートとして、新しいチャットページを生成または更新します。
- 単一ファイル（HTML/CSS 一体型）を優先。
- モバイルファーストでプレミアムなデザインを維持。

## ステップ 6: タスク管理アプリの更新
生成が完了したら、タスク管理アプリの該当タスクを `Done` に変更します。
