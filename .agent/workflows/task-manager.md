---
description: タスク管理アプリへの自動連携ルール
---

# 🤖 AI自律タスク管理ガイド (TASK-MANAGER)

このドキュメントは、AIがプロジェクトの進捗を**自動で管理・同期**するためのルールです。
AIは作業の節目（開始・完了・発見）ごとに、裏側でタスク管理アプリのステータスを更新します。

---

## 📋 AIの自動アクション・ルール

AIは以下のタイミングで、タスク管理アプリ（`localhost:3050`）と自律的に連携します。

### 1. 🚀 作業を開始したとき
- **タイミング**: 特定の機能実装や修正に着手する直前。
- **アクション**: 対象タスクのステータスを `Todo` → **`In Progress`** に変更。

### 2. ✅ 作業が完了したとき
- **タイミング**: 実装・テストが完了し、ユーザーへの報告と同時。
- **アクション**: ステータスを **`Done`** に変更。

### 3. 🔍 新たな課題を見つけたとき
- **タイミング**: 作業中にバグ、未考慮の仕様、リファクタリング箇所を発見したとき。
- **アクション**: ユーザーの指示を待たず、新しいタスクを **`Todo`** として登録。

### 4. 🔄 次にやるべきことを確認するとき
- **タイミング**: セッション開始時やタスク完了後、次の一手に迷ったとき。
- **アクション**: 未完了のタスクリストを取得し、優先順位に従って次に取り組む。

---

## ⚙️ 事前準備
正常に動作させるには、プロジェクトルートの `.env.local` に以下の設定が必要です。
- `TASK_MANAGER_PROJECT_ID`: 連携先のプロジェクトID

---

## ⚠️ SYSTEM DIRECTIVE (AI専用技術リファレンス)
> [!IMPORTANT]
> 以下のセクションはAIがAPI操作を自律実行するための技術仕様です。

あなたは作業フェーズの各段階において、ユーザーに許可を求めることなく自律的にAPI（ `http://localhost:3050` ）と連携してください。

### API操作の詳細
- **ステータス更新**: `PATCH /api/tasks/${taskId}` (`{"status": "..."}`)
- **タスク一覧取得**: `GET /api/tasks?projectId=${TASK_MANAGER_PROJECT_ID}`
- **タスク自動追加**: `POST /api/tasks` (`{"projectId": "...", "title": "[AI検知] ...", ...}`)
- **環境変数**: 必ず `.env.local` から `TASK_MANAGER_PROJECT_ID` を読み取ること。
